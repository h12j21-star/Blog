---
title: ì—ëŸ¬í•´ê²° ì˜¤ëž«ë™ì•ˆ íž˜ë“¤ê²Œ í–ˆë˜corsì—ëŸ¬ í•´ê²°ê¸°
date: 2023-8-30
description: cors ì—ëŸ¬ í•´ê²°í•˜ê¸°
tags:
  - React
  - Error
---

## ë¬¸ì œ ìƒí™©

![](https://velog.velcdn.com/images/h12j21/post/10e15968-f74c-4d77-87d3-ff61b6b6311c/image.png)
![](https://velog.velcdn.com/images/h12j21/post/354e7f58-e814-42fe-a2c3-843fa5ed28a1/image.png)

ë„·í‹€ë¦¬íŒŒì´ë¡œ ë°°í¬í›„ s3ì—ì„œ corsì—ëŸ¬ê°€ ë°œìƒí•˜ê³  ìžˆë‹¤.
ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸ í• ë•ŒëŠ” corsì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•Šì•˜ë‹¤.
ì˜¤ë¥˜ì˜ ë‚´ìš©ì€ **Access-Control-Allow-Origin**ì´ ìš”ì²­ìžì›ì— ì—†ë‹¤ëŠ” ë‚´ìš©ì´ì—ˆë‹¤.
í™•ì¸í•´ë³´ë‹ˆ ë¡œì»¬ì—ì„œëŠ” **Access-Control-Allow-Origin**ì´ ìš”ì²­ìžì›ì— ì¡´ìž¬í–ˆê³ , ë°°í¬ ì‚¬ì´íŠ¸ì—ëŠ” **Access-Control-Allow-Origin**ì´ ì¡´ìž¬í•˜ì§€ ì•Šì•˜ë‹¤.

### ðŸ“Œ Access-Control-Allow-Originì´ëž€ ?

ì‘ë‹µí—¤ë”ë¡œ ì´ ì‘ë‹µì´ ì£¼ì–´ì§„ originìœ¼ë¡œë¶€í„°ì˜ ìš”ì²­ì½”ë“œì™€ ê³µìœ ë  ìˆ˜ ìžˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.
Access-Control-Allow-Origin : '\*' ì€ ìž„ì˜ì˜ originìœ¼ë¡œë¶€í„°ì˜ ìš”ì²­ ì½”ë“œë¥¼ í—ˆìš©í•˜ëŠ” ê²ƒì´ë‹¤.
Access-Control-Allow-Origin:https://developer.mozilla.orgì´ë¼ë©´ https://developer.mozilla.orgìœ¼ë¡œ ë¶€í„°ì˜ ìš”ì²­ì„ í—ˆìš©í•œë‹¤ëŠ” ì˜ë¯¸ìž…ë‹ˆë‹¤.

### ðŸ“Œ CORSëž€?

CORSëž€ ë¸Œë¼ìš°ì €ì˜ í˜„ìž¬ ì›¹íŽ˜ì´ì§€ê°€ ì´ íŽ˜ì´ì§€ë¥¼ ë°›ì€ ì„œë²„ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì„œë²„ì˜ ìžì›ì„ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

### í•´ê²°1. netlify.toml íŒŒì¼ ì„¤ì • ì¶”ê°€

ë¡œì»¬ì—ì„œëŠ” ì˜¤ë¥˜ê°€ ì•ˆë‚¬ê¸° ë•Œë¬¸ì— ë°°í¬ ì„¤ì •ì„ í•´ì•¼ê² ë‹¤ëŠ” ìƒê°ì„ í–ˆë‹¤. ë„·í‹€ë¦¬íŒŒì´ë°°í¬ ì„¤ì •ì— **Access-Control-Allow-Origin**ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì´ ìžˆë‹¤.
netlify í™ˆíŽ˜ì´ì§€ë¥¼ ë³´ë‹ˆ netlify.tomlì— ì½”ë“œë¥¼ ì¶”ê°€í•˜ë¼ê³  ì í˜€ìžˆì—ˆë‹¤.

```
[[headers]]
  # Define which paths this specific [[headers]] block will cover.
  for = "/*"
    [headers.values]
    Access-Control-Allow-Origin = "*"
```

netlify.toml íŒŒì¼ì— ì¶”ê°€í•˜ì—¬ ì‹œë„í•´ë³´ì•˜ì§€ë§Œ ì‹¤íŒ¨..ðŸ¥²
ë„·í‹€ë¦¬íŒŒì´ì˜ configíŒŒì¼ì„ ì—¬ëŸ¬ë²ˆ ê³ ì¹˜ë©° ì‹œë„í•´ë³´ì•˜ì§€ë§Œ ì—ëŸ¬ê°€ í•´ê²°ë˜ì§€ ì•Šì•˜ë‹¤.

### í•´ê²°2. cloudfrontë¡œ origin ë³´ë‚´ê¸°

ë‘ë²ˆì§¸ë¡œëŠ” s3ì—ì„œ ì˜¤ë¥˜ë¥¼ ë‚´ê³  ìžˆê¸°ë•Œë¬¸ì— s3ì—ê´€ë ¨í•œ cors í•´ê²°ë²•ì„ ì°¾ì•„ë³´ì•˜ë‹¤. ì´ ë°©ë²•ìœ¼ë¡œ ~~í•´ê²°ì„ í–ˆë‹¤.~~

> ì•„ë§ˆì¡´ cloudfront ì„œë¹„ìŠ¤?
> Amazon CloudFrontëŠ” ë›°ì–´ë‚œ ì„±ëŠ¥, ë³´ì•ˆ ë° ê°œë°œìž íŽ¸ì˜ë¥¼ ìœ„í•´ êµ¬ì¶•ëœ ì½˜í…ì¸  ì „ì†¡ ë„¤íŠ¸ì›Œí¬(CDN) ì„œë¹„ìŠ¤ìž…ë‹ˆë‹¤.
> ì‚¬ìš©ì‚¬ë¡€

- ë¹ ë¥´ê³  ì•ˆì „í•œ ì›¹ ì‚¬ì´íŠ¸ ì „ì†¡
- ë™ì  ì½˜í…ì¸  ì „ì†¡ ë° API ê°€ì†í™”
- ë¼ì´ë¸Œ ë° ì˜¨ë””ë§¨ë“œ ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë°
- íŒ¨ì¹˜ ë° ì—…ë°ì´íŠ¸ ë°°í¬

cloudfrontì˜ íë¦„ì€ ë‹¤ìŒê³¼ê°™ë‹¤.

> user->amazon cloudfront -> amazon s3

cloudfrontë¥¼ ë°°í¬í•˜ì—¬ ì–´ë–»ê²Œ í•´ê²°í• ê¹Œ? cloud frontì—ì„œ Origin í—¤ë”ë¥¼ ì¶”ê°€í•˜ì—¬ S3 ì„œë²„ì— ì „ì†¡ì´ ë˜ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.

cloudfrontì—ì„œ **Access-Control-Allow-Origin**ì„ ì„¤ì •í•´ë³´ìž.
cloudfrontì˜ ì„¤ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

1. aws cloudfront ì ‘ì†
2. ë°°í¬ì„¤ì •,ìºì‹œ í‚¤ ë° ì›ë³¸ ìš”ì²­ ì„¤ì •
   ![](https://velog.velcdn.com/images/h12j21/post/e8a5dd1c-b95b-41c7-ac33-92fd871eab22/image.png)

![](https://velog.velcdn.com/images/h12j21/post/2a05ca9d-4d08-4969-96da-5a7efd1f04b6/image.png) 3. ë°°í¬
ë§ˆì§€ë§‰ìˆ˜ì •ì— ë‚ ì§œê°€ ëœ°ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ë©´ ë°°í¬ê°€ ì™„ë£Œëœë‹¤.
postmanìœ¼ë¡œ ìš”ì²­í•´ë³¸ ê²°ê³¼
![](https://velog.velcdn.com/images/h12j21/post/2b448ec5-bb64-43cc-94b2-f1f9afff991a/image.png)
Access-Control-Allow-Originì´ ìƒì„±ë˜ì–´ìžˆë‹¤.

awsì˜ ê¸°ëŠ¥ì´ ë‹¤ì–‘í•˜ê³  ì–´ëŠ ìƒí™©ì—ì„œ ì–´ë–¤ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ì•¼ í• ì§€ ì´ë²ˆ ê¸°íšŒë¥¼ í†µí•´ì„œ ì‚¬ìš©í•´ ë³´ê²Œ ë˜ì—ˆë‹¤. í´ë¼ìš°ë“œí™˜ê²½ ë‹¤ë¤„ë³´ë©´ì„œ ìž¥ì ë“¤ì„ ì•Œ ìˆ˜ ìžˆì—ˆê³ , awsê¸°ëŠ¥ë“¤ì´ ë§Žë‹¤ëŠ” ê²ƒì„ ì•Œê²Œë˜ì—ˆë‹¤.

---

### ðŸ˜… ë˜ë‹¤ì‹œ cors ì—ëŸ¬ - í™˜ê²½ë³€ìˆ˜ì„¤ì •ìœ¼ë¡œ í•´ê²°

cloudfrontë¥¼ ë°°í¬í•´ì„œ í•´ê²°ì´ ë˜ì—ˆëŠ”ë° ë‹¤ì‹œ corsì—ëŸ¬ê°€ ë“±ìž¥í–ˆë‹¤.
ìœ„ì˜ ê³¼ì •ì„ ë‹¤ì‹œ ì‹¤í–‰í•´ë³´ê³  ìƒˆë¡œìš´ ë²„í‚·ë„ ë§Œë“¤ì–´ë´¤ë‹¤.
ìƒˆë¡œìš´ ì˜¤ë¥˜ë¥¼ ë§Œë‚˜ê²Œ ë˜ì—ˆëŠ”ë° bucketì˜ ì´ë¦„ì´ ìž˜ëª»ë˜ì—ˆë‹¤ëŠ” ê²ƒì´ë‹¤.
í™˜ê²½ ë³€ìˆ˜ ì„¤ì •ì—ì„œ í™•ì¸í•´ë´¤ëŠ”ë° ë²„í‚·ì´ë¦„ì— **'ë²„í‚·ì´ë¦„'** ìž‘ì€ë”°ì˜´í‘œê°€ ìžˆì—ˆë‹¤. ìž‘ì€ë”°ì˜´í‘œë¥¼ ì§€ì›Œë³´ë‹ˆ ì—ëŸ¬ì—†ì´ ìž˜ ìž‘ë™í–ˆë‹¤.ðŸ˜…
ë„·í‹€ë¦¬íŒŒì´ í™˜ê²½ë³€ìˆ˜ì„¤ì •ì˜ ë²„í‚·ì´ë¦„ì´ ìž˜ëª» ì„¤ì •ë˜ì–´ìžˆì–´ ê·¸ë™ì•ˆ ìž˜ëª»ëœ ì£¼ì†Œë¼ê³  íŒë‹¨ì„ í•˜ì—¬ corsì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²ƒì´ì—ˆë‹¤. ë¡œì»¬í™˜ê²½ì—ì„œëŠ” envíŒŒì¼ì— ìž‘ì€ ë”°ì˜´í‘œë¡œ ì„¤ì •ì„ í–ˆì–´í–í•´ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•Šê³  ìž‘ë™ í–ˆë˜ ê²ƒì´ë‹¤.
ì´ë²ˆ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ í™˜ê²½ë³€ìˆ˜ ì„¤ì •ìœ¼ë¡œ ëª‡ì¼ì„ ì˜¤ë¥˜í•´ê²°ì„ í•˜ë©° ë³´ëƒˆë‹¤. í™˜ê²½ë³€ìˆ˜ì„¤ì •ì˜ ì¤‘ìš”ì„±ì„ ë‹¤ì‹œí•œë²ˆ ê¹¨ë‹¬ì•˜ë‹¤.

> ì°¸ê³  ìžë£Œ
> https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Access-Control-Allow-Origin > https://www.popit.kr/cors-preflight-%EC%9D%B8%EC%A6%9D-%EC%B2%98%EB%A6%AC-%EA%B4%80%EB%A0%A8-%EC%82%BD%EC%A7%88/
